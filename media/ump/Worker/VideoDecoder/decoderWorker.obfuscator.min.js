/*******************************************************************************
 * @copyright Copyright (c) 2018 Hanwha Techwin Co., Ltd.
 * @license Licensed to the Hanwha Techwin Software Foundation under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Total Plugin-Free Web Browser Viewer Framework
 * http://www.hanwhatechwin.com
 *
 * Security Solution Development Division / Web Software Development Team
 *
 * @summary Summary: ump-player
 * @description Description: UMP Framework 3.2.0
 * @file ump-player_20-04-2022 22.38.38.js
 * @version 3.2.0
 * @since 20-04-2022
 * @author by Youngho Kim (young.ho.kim@hanwha.com),
 *              by Yongsoo Ko (yongsoo.ko@hanwha.com),
 *              by Miju Park (miju462.park@hanwha.com),
 *              by Sweungwon Cheung (sw.cheung@hanwha.com),
 *              by Jongchan Park (jden.park@hanwha.com),
 *              by Changehee Song (changh.song@hanwha.com),
 */
/*******************************************************************************
 * @copyright Copyright (c) 2018 Hanwha Techwin Co., Ltd.
 * @license Licensed to the Hanwha Techwin Software Foundation under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Total Plugin-Free Web Browser Viewer Framework 
 * http://www.hanwhatechwin.com
 *
 * Security Solution Development Division / Web Software Development Team
 *
 * @summary Summary: ump-player
 * @description Description: UMP Framework 3.2.0
 * @file ump-player_20-04-2022.js
 * @version 3.2.0
 * @since 20-04-2022
 * @author by Youngho Kim (young.ho.kim@hanwha.com), 
 *         by Yongsoo Ko (yongsoo.ko@hanwha.com), 
 *         by Miju Park (miju462.park@hanwha.com), 
 *         by Sweungwon Cheung (sw.cheung@hanwha.com), 
 *         by Jongchan Park (jden.park@hanwha.com), 
 *         by Changehee Song (changh.song@hanwha.com), 
 */
var _0x1b7e35=_0xa1a3;(function(_0x534458,_0x44d5df){var _0x43e209=_0xa1a3,_0x437fb3=_0x534458();while(!![]){try{var _0x4c3673=-parseInt(_0x43e209(0x123))/0x1+parseInt(_0x43e209(0x128))/0x2+parseInt(_0x43e209(0x11d))/0x3+-parseInt(_0x43e209(0x10b))/0x4+-parseInt(_0x43e209(0x12d))/0x5*(parseInt(_0x43e209(0x120))/0x6)+-parseInt(_0x43e209(0x121))/0x7+parseInt(_0x43e209(0x11a))/0x8;if(_0x4c3673===_0x44d5df)break;else _0x437fb3['push'](_0x437fb3['shift']());}catch(_0x473c34){_0x437fb3['push'](_0x437fb3['shift']());}}}(_0x5069,0xd9fea));function _0x5069(){var _0x44c4ff=['2130ZqjrFS','1055250LojrVb','cropHeight','270661zadZXQ','receiveClock','decoded','terminated','data','2169212JdvcLv','notReady','frameType','cropWidth','Load\x20WebAssembly\x20Decoder','7765mdUKof','now','width','addListener','timeStamp','971092AMAusn','setOutputSize','onDecoderReady','shift','useDropPacket','playMode','decode','Playback','currentFps','setDecoderIndex','length','terminate','type','channelId','lowPerformance','7424456agdMyR','message','log','287226lywUyf','close','height'];_0x5069=function(){return _0x44c4ff;};return _0x5069();}var frameRate,playMode,Module=void 0x0!==Module?Module:{},decoder=(console[_0x1b7e35(0x11c)](_0x1b7e35(0x12c)),importScripts('./assemblyDecoder.js'),addEventListener(_0x1b7e35(0x11b),receiveMessage,!0x1),null),timer={'interval':0x21},decodedClock=null,usePacketDrop=!0x0,decodedFrame=null,isDecoderReady=!0x1,decoderIndex=0x0,toBeContinueDropFrameFlag=!0x1,threshold=0xc8,threshold2=0x64,allowFrameCount=2.5,frameBuffer=[];function onDecoderReady(){var _0x33062d=_0x1b7e35;if(0x0<frameBuffer[_0x33062d(0x115)]||'Playback'===playMode){for(;0x0!==frameBuffer['length'];){var _0x5a8376=frameBuffer[_0x33062d(0x10e)]();if(usePacketDrop){if('I'===_0x5a8376[_0x33062d(0x12a)]){var _0x1c3c70=performance[_0x33062d(0x12e)]();decodedFrame=decoder['decode'](_0x5a8376),decodedClock=performance[_0x33062d(0x12e)]()-_0x1c3c70,threshold=0x3e8/(0x0!==_0x5a8376['currentFps']?_0x5a8376['currentFps']:frameRate)*allowFrameCount,toBeContinueDropFrameFlag=!0x1,threshold<decodedClock&&(toBeContinueDropFrameFlag=!0x0,sendMessage('lowPerformance',{'channelId':decoder[_0x33062d(0x118)],'decoderId':decoderIndex,'performance':decodedClock/(0x3e8/_0x5a8376['currentFps']*allowFrameCount)}));}else{if(toBeContinueDropFrameFlag||!(decodedClock<threshold))break;_0x1c3c70=performance[_0x33062d(0x12e)](),decodedFrame=decoder[_0x33062d(0x111)](_0x5a8376),decodedClock=performance['now']()-_0x1c3c70,(threshold2=0x3e8/(0x0!==_0x5a8376[_0x33062d(0x113)]?_0x5a8376[_0x33062d(0x113)]:frameRate)*1.5)<decodedClock&&(toBeContinueDropFrameFlag=!0x0,sendMessage(_0x33062d(0x119),{'channelId':decoder[_0x33062d(0x118)],'decoderId':decoderIndex,'performance':decodedClock/(0x3e8/_0x5a8376[_0x33062d(0x113)]*allowFrameCount)}));}}else decodedFrame=decoder[_0x33062d(0x111)](_0x5a8376);(_0x5a8376['frameData']=null)!==decodedFrame&&(sendMessage(_0x33062d(0x125),{'channelId':decoder[_0x33062d(0x118)],'frame':decodedFrame,'time':_0x5a8376[_0x33062d(0x10a)],'width':_0x5a8376[_0x33062d(0x12f)],'height':_0x5a8376['height'],'cropWidth':_0x5a8376[_0x33062d(0x12b)],'cropHeight':_0x5a8376[_0x33062d(0x122)],'receiveClock':_0x5a8376[_0x33062d(0x124)]}),decodedFrame=null);}isDecoderReady=!0x0;}}function receiveMessage(_0x5f2441){var _0x469379=_0x1b7e35,_0x31b5f3=_0x5f2441[_0x469379(0x127)];switch(_0x31b5f3[_0x469379(0x117)]){case'createDecoder':(decoder=AssemblyDecoder(_0x31b5f3['data']))[_0x469379(0x118)]=_0x5f2441[_0x469379(0x127)][_0x469379(0x118)],decoder[_0x469379(0x109)](_0x469379(0x10d),onDecoderReady);break;case _0x469379(0x116):null!==decoder&&decoder[_0x469379(0x11e)](),sendMessage(_0x469379(0x126),{'channelId':decoder[_0x469379(0x118)]});break;case _0x469379(0x10c):null!==decoder&&decoder[_0x469379(0x10c)](_0x31b5f3[_0x469379(0x127)]);break;case _0x469379(0x114):decoderIndex=_0x31b5f3[_0x469379(0x127)];break;case _0x469379(0x10f):usePacketDrop=_0x31b5f3[_0x469379(0x127)];break;case'setFrameRate':usePacketDrop&&(frameRate=_0x31b5f3['data'],threshold=0x3e8/(frameRate=0x0===frameRate?0x1e:frameRate)*allowFrameCount);break;case _0x469379(0x110):playMode=_0x31b5f3['data'];break;case _0x469379(0x111):if(null!==decoder){if(isDecoderReady){if(usePacketDrop){if('I'===_0x31b5f3['data'][_0x469379(0x12a)]){var _0x306ef0=performance['now']();decodedFrame=decoder[_0x469379(0x111)](_0x31b5f3[_0x469379(0x127)]),decodedClock=performance['now']()-_0x306ef0,(threshold=0x3e8/(0x0!==_0x31b5f3[_0x469379(0x127)]['currentFps']?_0x31b5f3[_0x469379(0x127)][_0x469379(0x113)]:frameRate)*allowFrameCount)<decodedClock&&(toBeContinueDropFrameFlag=!0x0,sendMessage(_0x469379(0x119),{'channelId':decoder['channelId'],'decoderId':decoderIndex,'performance':decodedClock/(0x3e8/_0x31b5f3[_0x469379(0x127)]['currentFps']*allowFrameCount)}));}else{if(toBeContinueDropFrameFlag||!(decodedClock<threshold))break;_0x306ef0=performance[_0x469379(0x12e)](),decodedFrame=decoder['decode'](_0x31b5f3[_0x469379(0x127)]),decodedClock=performance[_0x469379(0x12e)]()-_0x306ef0,(threshold2=0x3e8/(0x0!==_0x31b5f3[_0x469379(0x127)]['currentFps']?_0x31b5f3[_0x469379(0x127)]['currentFps']:frameRate)*1.5)<decodedClock&&(toBeContinueDropFrameFlag=!0x0,sendMessage(_0x469379(0x119),{'channelId':decoder['channelId'],'decoderId':decoderIndex,'performance':decodedClock/(0x3e8/_0x31b5f3[_0x469379(0x127)][_0x469379(0x113)]*allowFrameCount)}));}}else decodedFrame=decoder[_0x469379(0x111)](_0x31b5f3[_0x469379(0x127)]);(_0x31b5f3['data']['frameData']=null)!==decodedFrame?(sendMessage('decoded',{'channelId':decoder[_0x469379(0x118)],'frame':decodedFrame,'time':_0x31b5f3[_0x469379(0x127)][_0x469379(0x10a)],'width':_0x31b5f3[_0x469379(0x127)]['width'],'height':_0x31b5f3['data'][_0x469379(0x11f)],'cropWidth':_0x31b5f3[_0x469379(0x127)][_0x469379(0x12b)],'cropHeight':_0x31b5f3['data']['cropHeight'],'receiveClock':_0x31b5f3[_0x469379(0x127)]['receiveClock']}),decodedFrame=null):_0x469379(0x112)===_0x31b5f3[_0x469379(0x127)][_0x469379(0x110)]?postMessage({'type':_0x469379(0x129)}):_0x31b5f3[_0x469379(0x127)]=null;}else frameBuffer['push'](_0x31b5f3[_0x469379(0x127)]);}}}function _0xa1a3(_0x4e02d8,_0x592840){var _0x506969=_0x5069();return _0xa1a3=function(_0xa1a39,_0x3c2ac3){_0xa1a39=_0xa1a39-0x109;var _0x384fd7=_0x506969[_0xa1a39];return _0x384fd7;},_0xa1a3(_0x4e02d8,_0x592840);}function sendMessage(_0x5a1cb1,_0x3b06a0){postMessage({'type':_0x5a1cb1,'data':_0x3b06a0});}